<div class="metadata-view">

  <div class="vpp-card">
    <p class="question-text">TAGS</p>
    <div ng-repeat="tagId in item.vpp_tag">
      <p class="answer-text">
        {{ vppTags[tagId] }}
        <a ng-click="removeTag(item, tagId)">x</a>
      </p>
    </div>
    <div class="btn-group" dropdown is-open="status.isopen">
      <button id="single-button" type="button" class="btn" dropdown-toggle ng-disabled="disabled" translate>
        +
      </button>
      <ul class="dropdown-menu" role="menu" aria-labelledby="single-button">
        <div ng-repeat="(tagCode, tagName) in vppTags">
          <li role="menuitem"><a ng-click="addTag(item, tagCode)">{{tagName}}</a></li>
        </div>
      </ul>
    </div>
  </div>

  <div class="vpp-card">
    <p class="info-text">All answers are according to available metadata contained in the photo and extended forensics tests</p>
  </div>

  <div ng-if="item.converted_exif" ng-class="item.converted_exif.gpslat ? 'green-top' : 'gray-top'" class="vpp-card green-top">
    <p class="question-text">When was this photo taken?</p>
    <p ng-switch on="item.converted_exif.datecaptured" class="answer-text">
      <span ng-switch-when="unknown">Unknown</span>
      <time ng-switch-default datetime="{{ item.converted_exif.datecaptured }}" title="{{ item.converted_exif.datecaptured|date:'medium' }}">{{ item.converted_exif.datecaptured|reldate }}, {{ item.converted_exif.datecaptured| date:'medium' }}</time>
    </p>

    <p class="question-text">Where was this photo taken?</p>
    <p ng-switch on="item.verification.stats.izitru.location" class="answer-text">
      <span ng-switch-when="NA">Unknown</span>
      <span ng-switch-default>{{ item.verification.stats.izitru.location }}</span>
    </p>

    <!-- Map -->
    <div vp-media-map data-item="item"></div>
    <!-- END MAP -->
  </div>

  <div ng-if="item.converted_exif" class="vpp-card gray-top">
    <p class="question-text">Which camera model took the photo?</p>
    <p ng-switch on="item.converted_exif.lensmake || '_undefined_'" class="answer-text">
      <span ng-switch-when="_undefined_">Unknown</span>
      <span ng-switch-default>{{ item.converted_exif.lensmake }}, {{ item.converted_exif.lensmodel }}</span>
    </p>

    <p class="question-text">What were the camera settings?</p>
    <p ng-switch on="item.verification.results.izitru.EXIF.exposureTime" class="answer-text">
      <span ng-switch-when="NA">Unknown</span>
      <span ng-switch-default>
          {{ item.verification.results.izitru.EXIF.exposureTime }} secs,
          f/{{ item.verification.results.izitru.EXIF.fnumber }},
          {{ item.verification.results.izitru.EXIF.iso }} ISO
        </span>
    </p>

    <p class="question-text">What is this photo's resolution and file size?</p>
    <p class="answer-text">{{ item.verification.results.izitru.EXIF.imageSize }} pixels</p>
  </div>

  <div class="vpp-card gray-top">
    <p class="question-text">Has this photo appeared on the Internet before?</p>
    <p ng-if="(item.verification.stats.tineye.total > 0) || (item.verification.stats.incandescent.total_google > 0)" class="answer-text">
      Yes
    </p>
    <p ng-if="(item.verification.stats.tineye.total < 1) && (item.verification.stats.incandescent.total_google < 1)" class="answer-text">
      No
    </p>

    <p class="info-text">Tineye has indexed this photo {{ item.verification.stats.tineye.total }} times.</p>

    <p class="info-text">Google has indexed this photo {{ item.verification.stats.incandescent.total_google || '0' }} times.</p>

  </div>

  <div ng-click="openTab({tab:'izitru'})" ng-if="item.verification.stats.izitru.verdict">
    <div ng-switch on="item.verification.stats.izitru.verdict">
      <div class="vpp-card green-top" ng-switch-when="1">
        <p class="question-text">Is this photo a camera original file?</p>
        <p class="answer-text">High Trust</p>
        <p class="info-text">This verdict is primarily given to files that pass the Device Signature Analysis without getting suspicious results on any of the other tests. In some cases, a file that doesnâ€™t pass the signature analysis will still get a high rating, provided that there is reason to believe that it has a valid signature that happens to be missing from our database. A high trust verdict denotes high confidence that this is the original file as captured by a digital camera.</p>
      </div>

      <div class="vpp-card yellow-top" ng-switch-when="2">
        <p class="question-text">Is this photo a camera original file?</p>
        <p class="answer-text">Medium Trust</p>
        <p class="info-text">A file with a Medium Trust verdict has not passed the Device Signature Analysis, but it typically will have strong results for the other tests. This verdict indicates that it is likely that this is an original file, but there remains a small risk that it might have been tampered with.</p>
      </div>

      <div class="vpp-card gray-top" ng-switch-when="3">
        <p class="question-text">Is this photo a camera original file?</p>
        <p class="answer-text">Undetermined file history</p>
        <p class="info-text">This verdict indicates that we were unable to reach an automated assessment for the file based on the results of the forensic tests. In many cases, we reach this verdict because some or all of the tests could not be applied to the file. For example, a file that has had its metadata stripped cannot be run through the Device Signature Analysis. If a file receives this rating, you may be able to look at some of the more detailed information provided by izitru, as well as your own knowledge about the file, in order to reach a more meaningful conclusion.</p>
      </div>

      <div class="vpp-card gray-top" ng-switch-when="4">
        <p class="question-text">Is this photo a camera original file?</p>
        <p class="answer-text">Potential file modification</p>
        <p class="info-text">This verdict results from a failure of the Device Signature Analysis coupled with other evidence that the file is not an original. This verdict provides strong evidence that the file has been re- compressed since the time it was first captured by the camera. Though this introduces the possibility that the image could have been edited, it does not necessarily suggest that any meaningful editing has taken place.</p>
      </div>

      <div class="vpp-card red-top" ng-switch-when="5">
        <p class="question-text">Is this photo a camera original file?</p>
        <p class="answer-text">No Trust</p>
        <p class="info-text">An individualized analysis has revealed clear signs of manipulation in this image. This rating is reserved for images that have been inspected by a forensic expert, most likely after being challenged by site visitors.</p>
      </div>
    </div>
  </div>

  <div class="vpp-card gray-top">
    <p class="question-text">Who submitted this photo?</p>
    <p class="answer-text">
      <a ng-href="mailto:{{ item.original_source | emailFilter }}" href>{{ item.original_source }}</a> created this photo on
      <span sd-reldate-complex ng-model="item.firstcreated"></span>. Sent to <span sd-meta-ingest data-item="item"></span>
    </p>

    <p class="question-text">Was any other information submitted with this photo?</p>
    <p class="answer-text">{{ item.headline }}</p>
  </div>

</div>
